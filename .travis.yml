language: python
python:
  - '3.8.6'

addons:
    chrome: stable

before_script:
  - pip install -r requirements.txt
  - wget https://chromedriver.storage.googleapis.com/87.0.4280.88/chromedriver_linux64.zip
  - unzip chromedriver_linux64.zip -d /home/travis/virtualenv/python3.8.6/
  - export CHROME_BIN=chromium-browser
  - "export DISPLAY=:99.0"

services:
  - postgresql

script:
  - ./manage.py test apps.purbeurreweb.tests apps.favorites.tests apps.users.tests

branches:
  only:
  - staging

